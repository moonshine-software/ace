document.addEventListener("alpine:init",()=>{Alpine.data("ace",(e={})=>({editor:null,textarea:null,init(){var t,s;this.textarea=this.$root.querySelector("textarea"),this.editor=ace.edit(this.$root.querySelector(".ace_editor"),e.options??{}),this.editor.session.setValue(this.textarea.value),this.editor.session.setMode(`ace/mode/${e.language??"javascript"}`),this.setTheme(),this.editor.session.on("change",()=>this.textarea.value=this.editor.getValue()),((t=this.$el)!=null&&t.readonly||(s=this.$el)!=null&&s.disabled)&&this.editor.readonly(),window.addEventListener("darkMode:toggle",()=>this.setTheme()),this.textarea.addEventListener("reset",()=>this.init(e))},setTheme(){const t=Alpine.store("darkMode").on?e.themes.dark?`ace/theme/${e.themes.dark}`:"":e.themes.light?`ace/theme/${e.themes.light}`:"";this.editor.setTheme(t)}}))});
